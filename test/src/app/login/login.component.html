<div>
    <!--Login form-->
<form id="login_fields" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <!--Email input field group-->
    <div
      class="input-group"
      [ngClass]="{ error: emailControl?.invalid && emailControl?.touched }"
    >
      <label for="email">Email Address Label</label>

      <!--Actual email input-->
      <div id="field_content">
        <i class="material-icons"></i>
        <input
          type="text"
          id="email"
          name="email"
          placeholder="example@gmail.com"
          maxlength="320"
          minlength="6"
          pattern="^[a-zA-Z0-9][a-zA-Z0-9_\-\.]+@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+[a-zA-Z]{2,}))$"
          formControlName="email"
          autocomplete="email"
          [ngClass]="{
            error: emailControl?.invalid && emailControl?.touched
          }"
        />

        <!--Email error message-->
        <div class="error-message">
          @if (emailControl?.errors?.['required'] && emailControl?.touched){
          <div class="error-item">
            <span class="material-symbols-outlined">error</span>
            <span>Email is required. Kindly fill out the field.</span>
          </div>
          } @if (emailControl?.errors?.['email'] &&
          emailControl?.getError('invalidEmail') &&
          emailControl?.getError('pattern')&& emailControl?.touched){
          <div class="error-item">
            <span class="material-symbols-outlined">error</span>
            <span>Invalid email format or characters.</span>
          </div>
          }
        </div>
      </div>
    </div>

    <!--Password input field group-->
    <div
      class="input-group"
      [ngClass]="{
        error: passwordControl?.invalid && passwordControl?.touched
      }"
    >
      <label for="password">Password</label>

      <!--Actual password input-->
      <div id="field_content">
        <i class="material-icons"></i>
        <input
          type="password"
          id="password"
          name="password"
          placeholder="•••••••••••••"
          maxlength="40"
          formControlName="password"
          autocomplete="current-password"
          [ngClass]="{
            error: passwordControl?.invalid && passwordControl?.touched
          }"
        />

        <!--Below the password, we wrap forgot password and error msg-->
        <div id="below_pass_row">
          <!--Error Message-->
          <div class="error-message password">
            @if (passwordControl?.errors?.['required'] &&
            passwordControl?.touched) {
            <div class="error-item">
              <span class="material-symbols-outlined">error</span>
              <span>Password is required. Kindly fill out the field.</span>
            </div>
            }
          </div>
          <!--Forgot Password-->
          <div id="forgot_password">
            <span routerLink="/recovery">Forgot Password?</span>
          </div>
        </div>
      </div>
    </div>

    <!--Login submit form-->
    <button
      mat-flat-button
      type="submit"
      class="custom-btn"
      [ngClass]="{
        'button-enabled': loginForm.valid,
        'button-disabled': !loginForm.valid
      }"
      [disabled]="!loginForm.valid"
    >
      Log In
    </button>
  </form>
</div>